package net.linxingyang.book.controller;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import net.linxingyang.common.vo.CommonVo;import net.linxingyang.common.vo.ResponseCode;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import net.linxingyang.common.utils.LightPageBean;import net.linxingyang.book.pojo.BooklistConfig;import net.linxingyang.book.vo.BooklistConfigVo;import net.linxingyang.book.qo.BooklistConfigQo;import net.linxingyang.book.service.BooklistConfigService;import net.linxingyang.diary.exception.DiaryException;@Controller@RequestMapping(value="booklistConfig")public class BooklistConfigController {    private static Logger log = LoggerFactory.getLogger(BooklistConfigController.class);    @Autowired    private BooklistConfigService booklistConfigService;    /**     * 查询图书配置中间表列表     *      * @param qo     * @return     */    @RequestMapping("/listBooklistConfig")    public @ResponseBody LightPageBean<BooklistConfigVo> listBooklistConfig(BooklistConfigQo qo) {        LightPageBean<BooklistConfigVo> vo = new LightPageBean<BooklistConfigVo>();                 try {            vo = booklistConfigService.selectByQo2(qo);            vo.setCode(ResponseCode.SUCCESS);            vo.setMsg("查询图书配置中间表成功!");        } catch (DiaryException e) {            vo.setCode(ResponseCode.ERROR_INPUT);            vo.setMsg(e.getMessage());            log.info("查询图书配置中间表失败：" + vo.getCode() + ":" + e.getMessage());        } catch (Exception e) {            vo.setCode(ResponseCode.INTERNAL_ERROR);            vo.setMsg("内部错误!");            log.info("查询图书配置中间表失败：" + vo.getCode() + "：" + e.getMessage());        }        return vo;    }    /**     * 查询图书配置中间表     *      * @param id      * @return     */    @RequestMapping("/queryBooklistConfig")    public @ResponseBody CommonVo queryBooklistConfig(Integer id) {        CommonVo vo = new CommonVo();                try {            vo.setResultObject(booklistConfigService.selectVoById(id));            vo.setCode(ResponseCode.SUCCESS);            vo.setMessage("查询图书配置中间表成功!");        } catch (DiaryException e) {            vo.setCode(ResponseCode.ERROR_INPUT);            vo.setMessage(e.getMessage());            log.info("查询图书配置中间表失败：" + vo.getCode() + ":" + e.getMessage());        } catch (Exception e) {            vo.setCode(ResponseCode.INTERNAL_ERROR);            vo.setMessage("内部错误!");            log.info("查询图书配置中间表失败：" + vo.getCode() + "：" + e.getMessage());        }        return vo;    }        /**     * 更新图书配置中间表     *      * @param booklistConfig     * @return     */    @RequestMapping("/modifyBooklistConfig")    public @ResponseBody CommonVo modifyBooklistConfig(BooklistConfig booklistConfig) {        CommonVo vo = new CommonVo();                try {            booklistConfigService.update(booklistConfig);            vo.setCode(ResponseCode.SUCCESS);            vo.setMessage("更新图书配置中间表成功!");            log.info("更新图书配置中间表成功");        } catch (DiaryException e) {            vo.setCode(ResponseCode.ERROR_INPUT);            vo.setMessage(e.getMessage());            log.info("更新图书配置中间表失败：" + vo.getCode() + ":" + e.getMessage());        } catch (Exception e) {            vo.setCode(ResponseCode.INTERNAL_ERROR);            vo.setMessage("内部错误!");            log.info("更新图书配置中间表失败：" + vo.getCode() + "：" + e.getMessage());        }        return vo;    }    /**     * 添加图书配置中间表     *      * @param booklistConfig 图书配置中间表     * @return CommonVo 处理结果     */    @RequestMapping("/addBooklistConfig")    public @ResponseBody CommonVo addBooklistConfig(BooklistConfig booklistConfig) {        CommonVo vo = new CommonVo();                try {            booklistConfigService.insert(booklistConfig);            vo.setCode(ResponseCode.SUCCESS);            vo.setMessage("添加图书配置中间表成功!");            log.info("添加图书配置中间表成功");        } catch (DiaryException e) {            vo.setCode(ResponseCode.ERROR_INPUT);            vo.setMessage(e.getMessage());            log.info("添加图书配置中间表失败：" + vo.getCode() + ":" + e.getMessage());        } catch (Exception e) {            vo.setCode(ResponseCode.INTERNAL_ERROR);            vo.setMessage("内部错误!");            log.info("添加图书配置中间表失败：" + vo.getCode() + "：" + e.getMessage());        }        return vo;    }}